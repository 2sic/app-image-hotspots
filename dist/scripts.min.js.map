{"version":3,"file":"scripts.min.js","mappings":"mGAGA,2BAEqBA,SAASC,iBAAiB,mBAEhCC,SAAQ,SAACC,EAAqBC,GACrCD,EAAOE,UAAUC,SAAS,oBAC5BH,EAAOI,iBAAiB,SAAS,WAE/B,IAAIJ,EAAOE,UAAUC,SAAS,kBAC5B,OAAO,EAGT,IAAME,EAAKC,MACLC,EAAWP,EAAOQ,cAAcC,QAAQF,SACxCG,EAAWV,EAAOQ,cAAcC,QAAQC,SACxCC,EAAOX,EAAOQ,cAAcC,QAAQE,KACpCC,EAASZ,EAAOa,wBAChBC,EAAcd,EAAOQ,cAAcC,QAAQM,YAC3CC,EAAchB,EAAOQ,cAAcC,QAAQQ,YAC3CC,EAAIb,EAAEc,QAAUP,EAAOQ,KAAOC,SAASP,GACvCQ,EAAIjB,EAAEkB,QAAUX,EAAOY,IAAMH,SAASL,GACtCS,EAAWP,EAAIN,EAAOc,MAAQ,IAC9BC,EAAWL,EAAIV,EAAOgB,OAAS,IAErCC,MAAMtB,GAAUuB,OAAOC,IAAI,CACzB,OAAU,MACV,UAAa,EACb,aAAe,EACf,SAAYrB,EACZ,OAAUC,EACV,OAAU,WACV,QAAW,CACT,EAAKqB,KAAKC,MAAiB,IAAXR,GAAkB,IAClC,EAAKO,KAAKC,MAAiB,IAAXN,GAAkB,UAKxC3B,EAAOE,UAAUgC,IAAI,wB,sDCtC3B,4BAAiC,G,IAAEC,EAAO,UACxCC,SAASC,KAAK,gCAAgCF,EAAO,KAAM,CACzDG,UAAU,EACVC,OAAQ,CACNC,WAAW,GAEbC,GAAI,CACFC,KAAM,SAACC,EAAeC,GACpB,IAAMC,EAAWhD,SAASiD,cAAiBF,EAAMG,IAAG,QAAQlC,wBAAwBa,MAChFsB,EAA4BnD,SAASiD,cAAiBF,EAAMG,IAAG,4BAC/DE,EAA8BpD,SAASiD,cAAiBF,EAAMG,IAAG,8BACjEC,EAAaE,aAAa,WAAUF,EAAaG,MAAMC,SAAcpB,KAAKqB,MAAMR,GAAS,MAC7FI,EAAeE,MAAMG,QAAU,WCdnCC,EAA2B,GAG/B,SAASC,EAAoBjD,GAE5B,IAAIkD,EAAeF,EAAyBhD,GAC5C,QAAqBmD,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASL,EAAyBhD,GAAY,CAGjDoD,QAAS,IAOV,OAHAE,EAAoBtD,GAAUqD,EAAQA,EAAOD,QAASH,GAG/CI,EAAOD,QCpBfH,EAAoBM,EAAKH,IACH,oBAAXI,QAA0BA,OAAOC,aAC1CC,OAAOC,eAAeP,EAASI,OAAOC,YAAa,CAAEG,MAAO,WAE7DF,OAAOC,eAAeP,EAAS,aAAc,CAAEQ,OAAO,K,MCJvD,EAAQ,KAER,aACA,SAEMC,EAAUC,OAChBD,EAAOE,YAAcF,EAAOE,aAAe,GAC3CF,EAAOE,YAAYC,cAAgBH,EAAOE,YAAYC,eAAiB,EAAAA,cACvEH,EAAOE,YAAYE,iBAAmBJ,EAAOE,YAAYE,kBAAoB,EAAAA,kB","sources":["webpack://app-imagehotspots3/./src/ts/admin.ts","webpack://app-imagehotspots3/./src/ts/fancybox.ts","webpack://app-imagehotspots3/webpack/bootstrap","webpack://app-imagehotspots3/webpack/runtime/make namespace object","webpack://app-imagehotspots3/./src/ts/index.ts"],"sourcesContent":["declare let $2sxc: any;\r\n\r\n/** Loader function for our Hotspot Admin */\r\nexport function activateAdmin() {\r\n  /* Hotspot */\r\n  let hotSpotImage = document.querySelectorAll('.hotspots > img');\r\n\r\n  hotSpotImage.forEach((hsElem: HTMLElement, index) => {\r\n    if(!hsElem.classList.contains('added-listener')) {\r\n      hsElem.addEventListener('click', () => {  \r\n\r\n        if(!hsElem.classList.contains('hotspot3-image')) {\r\n          return false;\r\n        }\r\n\r\n        const e = (event as MouseEvent);\r\n        const moduleId = hsElem.parentElement.dataset.moduleId;\r\n        const entityId = hsElem.parentElement.dataset.entityId\r\n        const guid = hsElem.parentElement.dataset.guid\r\n        const bounds = hsElem.getBoundingClientRect();\r\n        const iconOffsetX = hsElem.parentElement.dataset.iconoffsetX;\r\n        const iconOffsetY = hsElem.parentElement.dataset.iconoffsetY;\r\n        const x = e.clientX - bounds.left - parseInt(iconOffsetX);\r\n        const y = e.clientY - bounds.top - parseInt(iconOffsetY);\r\n        const xPercent = x / bounds.width * 100;\r\n        const yPercent = y / bounds.height * 100;\r\n      \r\n        $2sxc(moduleId).manage.run({\r\n          'action': 'new',\r\n          'sortOrder': 0,\r\n          'isPublished': true,\r\n          'entityId': entityId,\r\n          'parent': guid,\r\n          'fields': 'Hotspots',\r\n          'prefill': {\r\n            'X': Math.round(xPercent * 100) / 100,\r\n            'Y': Math.round(yPercent * 100) / 100\r\n          }\r\n        });\r\n      });\r\n\r\n      hsElem.classList.add('added-listener');\r\n    }\r\n  })\r\n}","declare let Fancybox: any;\r\n\r\n/** Loader function for our Fancybox */\r\nexport function activateFancybox({ groupId } : { groupId: string }) {\r\n  Fancybox.bind(`[data-app-hotspot3-fancybox=\"${groupId}\"]`, {\r\n    groupAll: true,\r\n    Thumbs: {\r\n      autoStart: false\r\n    },\r\n    on: {  \r\n      done: (fancybox: any, slide: any) => {\r\n        const imgWidth = document.querySelector(`${slide.src} img`).getBoundingClientRect().width\r\n        let fancyboxText: HTMLElement = document.querySelector(`${slide.src} .hotspot3-fancybox-text`)\r\n        let hotspotContent: HTMLElement = document.querySelector(`${slide.src}.hotspot3-fancybox-content`)\r\n        if(!fancyboxText.hasAttribute('style')) fancyboxText.style.maxWidth = `${Math.floor(imgWidth)}px`\r\n        hotspotContent.style.opacity = \"1\"\r\n      }\r\n    }\r\n  });\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\r\nrequire('../scss/_style.scss');\r\n\r\nimport { activateAdmin } from './admin';\r\nimport { activateFancybox } from './fancybox';\r\n\r\nconst winAny = (window as any);\r\nwinAny.appHotspot3 = winAny.appHotspot3 || {};\r\nwinAny.appHotspot3.activateAdmin = winAny.appHotspot3.activateAdmin || activateAdmin;\r\nwinAny.appHotspot3.activateFancybox = winAny.appHotspot3.activateFancybox || activateFancybox;"],"names":["document","querySelectorAll","forEach","hsElem","index","classList","contains","addEventListener","e","event","moduleId","parentElement","dataset","entityId","guid","bounds","getBoundingClientRect","iconOffsetX","iconoffsetX","iconOffsetY","iconoffsetY","x","clientX","left","parseInt","y","clientY","top","xPercent","width","yPercent","height","$2sxc","manage","run","Math","round","add","groupId","Fancybox","bind","groupAll","Thumbs","autoStart","on","done","fancybox","slide","imgWidth","querySelector","src","fancyboxText","hotspotContent","hasAttribute","style","maxWidth","floor","opacity","__webpack_module_cache__","__webpack_require__","cachedModule","undefined","exports","module","__webpack_modules__","r","Symbol","toStringTag","Object","defineProperty","value","winAny","window","appHotspot3","activateAdmin","activateFancybox"],"sourceRoot":""}